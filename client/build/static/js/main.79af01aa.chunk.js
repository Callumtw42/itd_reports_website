(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{145:function(e,a,t){},184:function(e,a,t){e.exports=t(316)},189:function(e,a,t){},190:function(e,a,t){},197:function(e,a,t){},220:function(e,a,t){},221:function(e,a,t){},222:function(e,a,t){},314:function(e,a,t){},315:function(e,a,t){},316:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),l=t.n(c),o=(t(189),t(190),t(191),t(355)),i=Object(o.a)((function(e){return{app:{flexGrow:1,backgroundColor:"#f8f8f8"}}})),u=t(56),s=t(13),d=t(119),m=t(379),f=t(380),b=t(362),p=t(357),E=t(358),g=t(363),v=t(364),h=t(377),y=t(173);function j(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(u.b,{color:"inherit",to:"http://itdsoftware.com/"},"ITD Software")," ",(new Date).getFullYear(),".")}var N=t(59),O=t.n(N),x=t(94),S=t(7);var C=Object(o.a)((function(e){return{papersurround:{margin:"auto",width:"500px"},paper:{marginTop:e.spacing(8),padding:"auto",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),padding:e.spacing(1),backgroundColor:"#004064",width:"100px",height:"100px"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),color:"white",background:"#004064"},error:{color:"red"},"@media (max-width: 1024px)":{form:{width:"100%"}}}}));function k(e){var a=C(),t=function(){var e=Object(n.useState)(""),a=Object(S.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),l=Object(S.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)([]),s=Object(S.a)(u,2),d=s[0],m=s[1];function f(){return(f=Object(x.a)(O.a.mark((function e(a,t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),console.log(t),fetch("".concat("https://retailsoftapi.azurewebsites.net","api/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:t})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{setUsername:r,setPassword:i,data:d,setData:m,login:function(e,a){return f.apply(this,arguments)},username:t,password:o}}(),c=t.login,l=t.data,o=t.password,i=t.setPassword,u=t.username,s=t.setUsername;return l[0]&&l[0].id&&e.history.push("/reports"),r.a.createElement(d.a,{className:a.papersurround},r.a.createElement(p.a,{component:"main",maxWidth:"xs",className:a.paper},r.a.createElement(E.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,null,"Updated"),r.a.createElement(m.a,{className:a.avatar},r.a.createElement("img",{src:"ITDlogo.jpg",alt:"logo"})),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return i(e.target.value)}}),r.a.createElement(y.a,{className:a.error},l.toString()),r.a.createElement(b.a,{fullWidth:!0,variant:"contained",className:a.submit,onClick:c.bind(this,u,o)},"Sign In"),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(v.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(g.a,{item:!0},r.a.createElement(v.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(f.a,{mt:8},r.a.createElement(j,null))))}var w=t(167),D=t.n(w),B=t(122),T=t.n(B),P=t(361),R=t(382),I=t(375),M=t(36),F=t(37);function z(){var e=Object(M.a)(["\n  --color: ",";\n  text-align: left;\n\n  .MuiFormControl-root {\n    margin: 2px 8px;\n  }\n\n  .MuiInputBase-root {\n    color: var(--color);\n  }\n\n  .MuiSvgIcon-root {\n    fill: var(--color);\n  }\n\n  .MuiInput-underline::before {\n    border-bottom: 1px solid var(--color);\n  }\n\n  .makeStyles-selectEmpty-275 {\n    margin-top: 0;\n  }\n\n  .makeStyles-formControl-274 {\n    margin: 0;\n  }\n\n  .MuiInput-underline::after {\n    border-bottom: 1px solid var(--color);\n  }\n\n  .MuiInput-underline:hover:not(.Mui-disabled)::before {\n    border-bottom: 2px solid var(--color);\n    border-bottom-color: var(--color);\n  }\n\n  .Mui-selected:hover {\n    background-color: var(--color);\n  }\n\n  .makeStyles-formControl-274 {\n    margin: 2px 5px;\n  }\n"]);return z=function(){return e},e}var A=F.a.div(z(),(function(e){return e.color}));function Q(e,a){var t=r.a.useState(e[0]?e[0]:"empty"),c=Object(S.a)(t,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){"empty"===l&&e[0]&&o(e[0])}),[e]),{selected:l,Select:function(t){return r.a.createElement(A,{color:a,className:"select"},r.a.createElement(P.a,null,r.a.createElement(I.a,{value:"",displayEmpty:!0,label:l,renderValue:function(){return l}},e.map((function(e,a){return r.a.createElement(R.a,{key:a,onMouseDown:function(){o(e)}},e)})))))}}}function V(e){var a=Object(n.useState)([]),t=Object(S.a)(a,2),r=t[0],c=t[1];function l(){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{fetch("".concat("https://retailsoftapi.azurewebsites.net").concat(e)).then((function(e){return e.json()})).then((function(e){c(null!=e?e:[])})).catch((function(e){console.error(e)}))}catch(t){c([]),console.error(t)}case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){l()}),[e]),{data:r,setData:c,fetchData:l}}t(197);function W(){var e=function(){var e=V("api/databases").data,a=Object(n.useState)([]),t=Object(S.a)(a,2),r=t[0],c=t[1],l=Q(r,"white"),o=l.Select,i=l.selected;return Object(n.useEffect)((function(){c(function(e){return e.map((function(e){return e.schema_name}))}(e))}),[e]),{Select:o,selected:i}}(),a=e.Select,t=e.selected,c=Object(n.useState)("itdepos"),l=Object(S.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){"empty"!==t&&i(t)}),[t]),{db:o,NavBar:function(){return r.a.createElement("div",{className:"NavBar"},r.a.createElement(D.a,{position:"fixed"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{src:"ITDlogo.jpg",alt:"logo"}),r.a.createElement(T.a,{className:"text"},"Branch: "),r.a.createElement(a,null)),r.a.createElement("div",{className:"right"},r.a.createElement(u.b,{className:"link",to:"/"},r.a.createElement(T.a,null,"Logout")))))}}}var J=t(51),H=t(30);function _(e){return e&&e.length}function q(e,a){return _(e)?e.map((function(e){return e[a]})):[0]}function L(e,a){return q(e,a).reduce((function(e,a){return e+a}))}function U(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];var r=JSON.parse(JSON.stringify(e));return _(r)?r.map((function(e){return t.map((function(a){return delete e[a]})),e})):[]}function Y(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];return _(e)?e.map((function(e){var a={};return t.map((function(t){return Object.assign(a,Object(J.a)({},t,e[t]))})),a})):[]}function G(e,a){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var c=K(e,a),l=c.map((function(t){return $(e,a,t)})),o=function(e,t){return Object.keys(e).forEach((function(r){e[r]="number"!==typeof e[r]||r===a||n.includes(r)?e[r]:e[r]+t[r]})),e},i=(l=JSON.parse(JSON.stringify(l))).map((function(e){return e.reduce(o)}));return i}function K(e,a){var t=[];if(_(e)){var n=new Set;e.forEach((function(e){return n.add(e[a])})),n.forEach((function(e){return t.push(e)}))}return t}function $(e,a,t){return e.filter((function(e){return e[a]===t}))}var X=t(53),Z=(t(220),t(168)),ee=t.n(Z);function ae(){var e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}function te(e){var a=new Date(e);return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)}function ne(){var e=Object(n.useState)({start:ae(),end:ae()}),a=Object(S.a)(e,2),t=a[0],c=a[1];function l(e){return r.a.createElement("div",{className:"container"},r.a.createElement("input",{type:"date",required:!0,defaultValue:t.start,onChange:e.handleChange}),r.a.createElement(ee.a,{className:"icon"}))}return{startDate:t.start,endDate:t.end,Dates:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(l,{handleChange:function(e){return c(Object(X.a)(Object(X.a)({},t),{},{start:te(e.currentTarget.value),end:te(t.end)}))}}),r.a.createElement("text",null,"-"),r.a.createElement(l,{handleChange:function(e){return c(Object(X.a)(Object(X.a)({},t),{},{start:te(t.start),end:te(e.currentTarget.value)}))}})))},Date:function(e){return r.a.createElement(l,{handleChange:function(e){return c(Object(X.a)(Object(X.a)({},t),{},{start:te(e.currentTarget.value),end:te(e.currentTarget.value)}))}})}}}t(221);var re=t(366);function ce(e){return r.a.createElement("div",{className:"HeaderBar"},r.a.createElement(re.a,null,e.children))}function le(){var e=Object(M.a)(["\n  overflow-y: scroll;\n\n  .MuiTableCell-root {\n    padding: 0px 8px !important;\n    font-size: 1em;\n    margin: 0px 0px;\n    font-size: 12px;\n    max-width: 3vw;\n    min-width: 0;\n    word-wrap: break-word;\n  }\n\n  .MuiTable-root {\n    margin: 0;\n  }\n\n  .emptyMessage {\n    margin: auto;\n  }\n"]);return le=function(){return e},e}var oe=F.a.div(le()),ie=t(370),ue=t(371),se=t(369),de=t(368),me=t(169),fe=t.n(me);function be(e){return e&&e.length}function pe(e){return _(e.data)?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"emptyMessage"},r.a.createElement(y.a,null,"Empty"))}var Ee=t(367),ge=t(383);function ve(e){var a=e.order,t=e.orderBy,n=e.onRequestSort,c=r.a.useState([]),l=Object(S.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(S.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){_(e.data)&&d!==e.data?(i(Object.keys(e.data[0]).map((function(a,t){return{id:t+1+"",numeric:"number"==typeof e.data[0][a],disablePadding:!1,label:a}}))),m(e.data)):i([])}),[e.data]),r.a.createElement(Ee.a,null,r.a.createElement(de.a,null,o.map((function(e){return r.a.createElement(se.a,{key:e.id,align:"left",padding:e.disablePadding?"none":"default",sortDirection:t===e.id&&a,onClick:(c=e.id,function(e){n(e,c)})},r.a.createElement(ge.a,{active:t===e.id,direction:t===e.id?a:"asc"},e.label));var c}))))}var he=Object(o.a)((function(e){return{head:{backgroundColor:"blue"}}}));function ye(e){var a=he(),t=r.a.useState(!0),n=Object(S.a)(t,2),c=n[0],l=n[1],o=r.a.useState([]),i=Object(S.a)(o,2),u=i[0],s=i[1],d=r.a.useState("asc"),m=Object(S.a)(d,2),f=m[0],b=m[1],p=r.a.useState("calories"),E=Object(S.a)(p,2),g=E[0],v=E[1],h=r.a.useState(0),y=Object(S.a)(h,2),j=y[0],N=y[1],O=r.a.useState([]),x=Object(S.a)(O,2),C=x[0],k=x[1],w=r.a.useState(1),D=Object(S.a)(w,2),B=D[0],T=D[1];function P(){return c?r.a.createElement(fe.a,{onClick:function(){T(B+1)}}):r.a.createElement(r.a.Fragment,null)}return r.a.useEffect((function(){be(e.data)?(s(e.data),k(e.data.map((function(e){return Object.values(e).map((function(e,a){return"number"===typeof e&&(e=+Math.round(100*e)/100),r.a.createElement(se.a,{key:a,align:"left"},e)}))}))),l(!0)):(s([]),k([]),N(0),T(1))}),[e.data]),r.a.useEffect((function(){N(100*B),j>e.data.length&&l(!1),e.bufferCallback&&B>1&&e.bufferCallback()}),[B]),r.a.createElement(oe,{className:"table"},r.a.createElement(ie.a,{stickyHeader:!0,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(ve,{className:a.head,order:f,orderBy:g,onRequestSort:function(a,t){var n="asc"===f;if(b(n?"desc":"asc"),v(t),e.sortCallback)e.sortCallback({by:a.currentTarget.textContent,order:n?"desc":"asc"});else{var c=a.currentTarget.firstChild.firstChild.data,l=u.sort(function(e,a){var t="asc"===a?-1:1;return function(a,n){return a[e]>n[e]?t:a[e]<n[e]?-t:0}}(c,f));k(l.map((function(e){return Object.values(e).map((function(e,a){return"number"===typeof e&&e%1!==0&&(e=e.toFixed(2)),r.a.createElement(se.a,{key:a,align:"left"},e)}))})))}},rowCount:C.length,data:u}),r.a.createElement(ue.a,{className:"tableBody"},C.map((function(e,a){return r.a.createElement(de.a,{key:a,hover:!0,role:"checkbox",tabIndex:-1},C[a])})))),r.a.createElement(P,null),r.a.createElement(pe,{data:e.data}))}function je(){var e=Object(M.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\ntext-align: left;\nbackground-color:#004064;\ncolor: white;\n\n.MuiTypography-body1 {\n    font-size: 1em;\n    margin-left: 5px;\n    margin-right: 5px;\n}\n\n"]);return je=function(){return e},e}function Ne(){var e=Object(M.a)(["\n.MuiTypography-root{\ntext-align: left;\nfont-weight: bold;\ncolor: #004064;\nfont-size: 1.25em; \nmargin: 5px;\n}\n"]);return Ne=function(){return e},e}function Oe(e){var a=Object(n.useState)([]),t=Object(S.a)(a,2),c=t[0],l=t[1],o=ne(),i=o.startDate,u=o.endDate,s=o.Dates,m=V("/api/salesByProduct/".concat(e.db,"/").concat(i,"/").concat(u)).data,f=Q(K(m,"Cashier"),"black"),b=f.selected,p=f.Select;function E(e,a){return function(e,a){return K(e,a).map((function(t){return $(e,a,t)}))}(function(e,a,t){return e.sort(function(e,a){var t="asc"===a?-1:1;return function(a,n){return a[e]>n[e]?t:a[e]<n[e]?-t:0}}(a,t))}($(Y(e,"Receipt","Product","Sales","Qty","Refund","Discount","TillDate","TillTime","Cashier"),"Cashier",a),"Receipt","desc"),"Receipt")}function g(){var e="00-00-00";return r.a.createElement(r.a.Fragment,null,c.map((function(a,t){return r.a.createElement("div",{key:t},(n=a[0].TillDate)===e?r.a.createElement(r.a.Fragment,null):(e=n,r.a.createElement(xe,null,r.a.createElement(y.a,null,n))),r.a.createElement(Se,null,r.a.createElement(y.a,null,"Receipt "+a[0].Receipt),r.a.createElement(y.a,null,a[0].TillTime)),r.a.createElement(ye,{data:Y(a,"Product","Qty","Sales")}));var n})))}return Object(n.useEffect)((function(){l(E(m,b))}),[m,b]),r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(s,null)),r.a.createElement("div",{className:"reportBody",id:"cashierHistory"},r.a.createElement(p,null),r.a.createElement(g,null))))}var xe=F.a.div(Ne()),Se=F.a.div(je());function Ce(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=V("/api/expiry/".concat(e.db,"/").concat(t,"/").concat(n)).data;return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(ye,{data:l}))))}function ke(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=V("/api/priceoverride/".concat(e.db,"/").concat(t,"/").concat(n)).data;return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(ye,{data:l}))))}function we(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=V("/api/refund/".concat(e.db,"/").concat(t,"/").concat(n)).data;return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(ye,{data:l}))))}t(222);var De=t(373),Be=t(374),Te=(t(145),t(64));function Pe(e){if(_(e.chartData.datasets)){var a=e.chartData.datasets[0].backgroundColor,t=e.chartData.labels,n=a.map((function(e,n){return r.a.createElement("div",{key:n++,className:"legendItem"},r.a.createElement("span",{key:n++,className:"dot",style:{backgroundColor:e}}),r.a.createElement("label",{key:n++,className:"label"},t[a.indexOf(e)]))}));return r.a.createElement("div",{className:"Legend"},r.a.createElement("ul",null,n),r.a.createElement("div",{className:"cover-bar"}))}return r.a.createElement("div",null)}function Re(e,a){return window.innerWidth>1024?e:a}function Ie(e){if("number"===typeof e)return e;var a=Object(H.a)(e).map((function(e){return e.charCodeAt(0)}));return parseInt(a.join(""),10)}function Me(e){var a=["rgba(0,0,0, 0.6)","rgba(128,128,128, 0.6)","rgba(128,128,0, 0.6)","rgba(128,0,128, 0.6)","rgba(128,0,0, 0.6)","rgba(0,128,128, 0.6)","rgba(0,128,0, 0.6)","rgba(0,0,128, 0.6)","rgba(255,255,255, 0.6)","rgba(255,255,0, 0.6)","rgba(255,0,255, 0.6)","rgba(255,0,0, 0.6)","rgba(0,255,255, 0.6)","rgba(0,255,0, 0.6)","rgba(0,0,255, 0.6)","rgba(255,255,128, 0.6)","rgba(255,128,255, 0.6)","rgba(255,128,128, 0.6)","rgba(128,255,255, 0.6)","rgba(128,255,128, 0.6)","rgba(128,128,255, 0.6)","rgba(128,0,255, 0.6)","rgba(0,128,255, 0.6)","rgba(255,128,0, 0.6)","rgba(64,64,64, 0.6)","rgba(192,192,192, 0.6)","rgba(192,192,64, 0.6)","rgba(192,64,192, 0.6)","rgba(192,64,64, 0.6)","rgba(64,192,192, 0.6)","rgba(64,192,64, 0.6)","rgba(64,64,192, 0.6)","rgba(255,255,64, 0.6)","rgba(255,64,255, 0.6)","rgba(255,64,64, 0.6)","rgba(64,255,255, 0.6)","rgba(64,255,64, 0.6)","rgba(64,64,255, 0.6)","rgba(255,255,192, 0.6)","rgba(255,192,255, 0.6)","rgba(255,192,192, 0.6)","rgba(192,255,255, 0.6)","rgba(192,255,192, 0.6)","rgba(192,192,255, 0.6)","rgba(192,64,255, 0.6)","rgba(64,192,255, 0.6)","rgba(255,192,64, 0.6)","rgba(64,64,0, 0.6)","rgba(64,0,64, 0.6)","rgba(64,0,0, 0.6)","rgba(0,64,64, 0.6)","rgba(0,64,0, 0.6)","rgba(0,0,64, 0.6)","rgba(192,192,0, 0.6)","rgba(192,0,192, 0.6)","rgba(192,0,0, 0.6)","rgba(0,192,192, 0.6)","rgba(0,192,0, 0.6)","rgba(0,0,192, 0.6)","rgba(64,0,192, 0.6)","rgba(0,64,192, 0.6)","rgba(192,64,0, 0.6)","rgba(102,51,0, 0.6)","rgba(255,229,204, 0.6)","rgba(255,153,153, 0.6)"];return e.map((function(e){return a[a.length-e%a.length-1]}))}function Fe(e){var a=G(e.data,e.groupBy),t=q(a,e.values),n=q(a,e.groupBy),c=_(e.data)?n.map((function(e){return Ie(e)})):[],l=function(e,a,t){return{labels:a,datasets:[{label:"Net Sales \xa3",data:e,backgroundColor:Me(t)}]}}(t,n,c),o=t.reduce((function(e,a){return e+a})),i=Re(12,12);return _(l.datasets)?r.a.createElement("div",{className:"PieChart"},r.a.createElement("div",{className:"chart"},r.a.createElement(Te.b,{height:1,width:1,data:l,options:{layout:{},labels:{display:!1},legend:{display:!1,position:"top",align:"center",labels:{usePointStyle:!0,fontSize:24},fullWidth:!0},tooltips:{bodyFontSize:i,mode:"index",callbacks:{label:function(e,a){var t=a.labels[e.index];return t},afterLabel:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index],n=a.datasets[e.datasetIndex].data[e.index]/o*100;return n=n.toFixed(2),Number.isInteger(t)?t+" ("+n+"%)":"\xa3 "+t.toFixed(2)+" ("+n+"%)"}},fontSize:24}}})),r.a.createElement(Pe,{chartData:l})):r.a.createElement("div",{className:"chart"},r.a.createElement(Te.b,{data:l}))}function ze(e){var a=0,t=e.chartData.datasets.map((function(e){return e.backgroundColor})),n=e.chartData.datasets.map((function(e){return e.label})),c=t.map((function(e){return r.a.createElement("div",{key:a++,className:"legendItem"},r.a.createElement("span",{key:a++,className:"dot",style:{backgroundColor:e}}),r.a.createElement("label",{key:a++,className:"label"},n[t.indexOf(e)]))}));return r.a.createElement("div",{className:"Legend"},r.a.createElement("ul",null,c),r.a.createElement("div",{className:"cover-bar"}))}function Ae(e){var a=e.data,t=e.x,n=e.groupBy,c=e.values,l=function(e,a,t,n){var r=K(e,t),c=Me(r.map((function(e){return Ie(e)}))),l=r.map((function(l,o){var i=c[o],u=a.map((function(a){var c=$(e,"TillHour",a),l=$(c,t,r[o]),i=q(l,n);return _(l)?i.reduce((function(e,a){return e+a})):0}));return{label:r[r.indexOf(l)],data:u,backgroundColor:i,datasetKeyProvider:o}}));return{labels:a,datasets:l}}(a,t,n,c),o=L(a,c),i=Re(12,26);return void 0!==l.datasets?r.a.createElement("div",{className:"BarChart"},r.a.createElement("div",{className:"chart"},r.a.createElement(Te.a,{data:l,options:{scales:{xAxes:[{stacked:!0,ticks:{fontSize:i}}],yAxes:[{stacked:!0,ticks:{fontSize:i}}]},labels:{display:!1,fontSize:48},legend:{display:!1,position:"right",align:"center",labels:{usePointStyle:!0},fullWidth:!0},tooltips:{bodyFontSize:Re(12,12),mode:"single",callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex],n=t.label;return t.data[e.index]>0?n:""},afterLabel:function(e,a){var t=a.datasets[e.datasetIndex],n=t.data[e.index],r=(t.data[e.index]/o*100).toFixed(2);return t.data[e.index]>0?Number.isInteger(n)?n+" ("+r+"%)":"\xa3 "+n.toFixed(2)+" ("+r+"%)":""}}}}})),r.a.createElement(ze,{chartData:l})):r.a.createElement("div",{className:"chart"},r.a.createElement(Te.a,{data:l}))}t(314);var Qe=t(372),Ve=t(376),We=t(378);function Je(e){return r.a.createElement("div",{className:"RadioButtons"},r.a.createElement(P.a,{component:"fieldset"},r.a.createElement(We.a,{color:"#004064","aria-label":"gender",name:"gender1",value:e.value,onChange:e.handleChange},r.a.createElement(Qe.a,{color:"#004064",value:"Sales",control:r.a.createElement(Ve.a,null),label:"Sales"}),r.a.createElement(Qe.a,{color:"#004064",value:"Profit",control:r.a.createElement(Ve.a,null),label:"Profit"}),r.a.createElement(Qe.a,{color:"#004064",value:"Qty",control:r.a.createElement(Ve.a,null),label:"Quantity"}))))}function He(e){var a=ne(),t=a.startDate,c=a.endDate,l=a.Dates,o=Q(["Category","Product","PriceMark","Cashier","Receipt"],"black"),i=o.Select,u=o.selected,s=V("/api/salesByProduct/".concat(e.db,"/").concat(t,"/").concat(c)).data,m=Object(n.useState)("Category"),f=Object(S.a)(m,2),b=f[0],p=f[1],E=Object(n.useState)(0),g=Object(S.a)(E,2),v=g[0],h=g[1],j=Object(n.useState)("Sales"),N=Object(S.a)(j,2),O=N[0],x=N[1],C=Object(n.useState)([]),k=Object(S.a)(C,2),w=k[0],D=k[1],B=Object(n.useState)("pie"),T=Object(S.a)(B,2),P=T[0],R=T[1],I=function(e){var a=Object(S.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)("a"),o=Object(S.a)(l,2),i=o[0],u=o[1];function s(){"a"===i?(u("b"),t.callBack()):(u("a"),c.callBack())}return{IconSwitch:function(){return r.a.createElement("button",{className:"IconSwitch",onClick:s},"a"===i?t.icon:c.icon)}}}([{icon:r.a.createElement(De.a,null),callBack:R.bind(this,"bar")},{icon:r.a.createElement(Be.a,null),callBack:R.bind(this,"pie")}]).IconSwitch;function M(){return r.a.createElement("div",{className:"sales"},r.a.createElement(i,null),r.a.createElement(Je,{handleChange:function(e){return x(e.target.value)},value:O}),r.a.createElement("h1",null,"Total: ","Qty"===O?v:"\xa3"+v.toFixed(2)))}function F(e){var a=Array.from(Array(24).keys()).map((function(e){return("0"+e+":00").slice(-5)}));return"pie"===e.chart?r.a.createElement(Fe,{data:s,groupBy:b,values:O}):r.a.createElement(Ae,{data:s,x:a,groupBy:b,values:O})}return Object(n.useEffect)((function(){D(function(e,a){var t=G(e,a,"Id","CashierNum");switch(a){case"PriceMark":return Y(t,"PriceMark","Sales","Cost","Discount","Refund","Profit","Qty");case"Cashier":return Y(t,"Cashier","Sales","Cost","Discount","Refund","Profit","Qty");case"Product":return Y(t,"Product","Id","Category","PriceMark","Sales","Cost","Discount","Refund","Profit","Qty");case"Category":return Y(t,"Category","Sales","Cost","Discount","Refund","Profit","Qty");case"Receipt":return Y(t,"Receipt","Cashier","TillDate","TillTime","Sales","Cost","Discount","DsctReason","Refund","Profit","Qty");default:return Y(t,"Sales","Cost","Discount","Refund","Profit","Qty")}}(s,b)),h(L(s,O))}),[b,O,s]),Object(n.useEffect)((function(){p(u)}),[u]),r.a.createElement("div",{className:"salesBreakdown"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement("div",{className:"left"},r.a.createElement(y.a,{className:"text",variant:"h6"}," ",e.header),r.a.createElement(l,null)),r.a.createElement("div",{className:"right"},r.a.createElement(I,null))),r.a.createElement("div",{className:"reportBody"},r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(F,{chart:P})),r.a.createElement(ye,{data:w}))))}function _e(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=V("/api/staffhours/".concat(e.db,"/").concat(t,"/").concat(n)).data;return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(ye,{data:l}))))}function qe(e,a){var t=Object(n.useState)([]),r=Object(S.a)(t,2),c=r[0],l=r[1],o=Object(n.useState)(0),i=Object(S.a)(o,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){fetch("".concat("https://retailsoftapi.azurewebsites.net").concat(e,"/").concat(a,"/").concat(u)).then((function(e){return e.json()})).then((function(e){return l([].concat(Object(H.a)(c),Object(H.a)(e)))})).catch((function(e){return console.log(e)}))}),[u]),Object(n.useEffect)((function(){s(0),fetch("".concat("https://retailsoftapi.azurewebsites.net").concat(e,"/").concat(a,"/").concat(u)).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){return console.log(e)}))}),[e]),{data:c,getNextBuffer:function(){s(u+1)}}}function Le(){var e=Object(n.useState)({by:"id ",order:"desc"}),a=Object(S.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Ke).db,o=qe("api/stock/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer;return r.a.createElement(ye,{data:i,bufferCallback:u,sortCallback:c})}function Ue(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(S.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Ke).db,o=qe("api/reorder/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer;return r.a.createElement(ye,{data:i,bufferCallback:u,sortCallback:c})}function Ye(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(S.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Ke).db,o=qe("api/nonscan/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer;return r.a.createElement(ye,{data:i,bufferCallback:u,sortCallback:c})}function Ge(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(S.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Ke).db,o=ne(),i=o.startDate,u=o.endDate,s=o.Dates,d=qe("api/adjust/".concat(l,"/").concat(i,"/").concat(u,"/").concat(t.by,"/").concat(t.order),100),m=d.data,f=d.getNextBuffer;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement(ye,{data:m,bufferCallback:f,sortCallback:c}))}var Ke=r.a.createContext({db:"itdepos"});function $e(e){var a=Object(n.useState)(e.header),t=Object(S.a)(a,2),c=(t[0],t[1],Q(["Stock","Reorder","Non Scan","Stock Adjust"],"white")),l=c.selected,o=c.Select;function i(e){switch(l){case"Stock":return r.a.createElement(Le,null);case"Reorder":return r.a.createElement(Ue,null);case"Non Scan":return r.a.createElement(Ye,null);case"Stock Adjust":return r.a.createElement(Ge,null);default:return r.a.createElement(Le,null)}}return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(o,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(Ke.Provider,{value:{db:e.db}},r.a.createElement(i,{selected:l,db:e.db})))))}var Xe=t(171);function Ze(){var e=Object(M.a)(["\n\ncolor: #004064;;\ntext-align:left;\nmargin-left: 1em;\nfont-size: 1em;\n\n"]);return Ze=function(){return e},e}function ea(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=(Object(Xe.a)(a,["startDate","endDate","Dates"]),Y(V("/api/VAT/".concat(e.db,"/").concat(t,"/").concat(n)).data,"VatRate","Receipt_No","Total_Sales","Quantity","Total_VAT","Nett")),o=G(U(l,"Receipt_No"),"VatRate"),i=G(U(l,"VatRate"),"Receipt_No");return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(aa,null,"Total VAT"),r.a.createElement(ye,{data:o}),r.a.createElement(aa,null,"VAT Receipts"),r.a.createElement(ye,{data:i}))))}var aa=F.a.h1(Ze());function ta(e){var a=ne(),t=a.startDate,n=a.endDate,c=a.Dates,l=V("/api/wastage/".concat(e.db,"/").concat(t,"/").concat(n)).data;return r.a.createElement("div",{className:"report"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(ce,null,r.a.createElement(y.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(ye,{data:l}))))}t(315);function na(e){var a=W(),t=a.db,n=a.NavBar;return r.a.createElement("div",{className:"reportspage"},r.a.createElement(n,null),r.a.createElement("div",{className:"reports"},r.a.createElement(He,{header:"Sales Breakdown",db:t}),r.a.createElement($e,{id:"stock",header:"Stock",db:t}),r.a.createElement(Oe,{header:"Cashier History",db:t}),r.a.createElement(ea,{header:"VAT",db:t}),r.a.createElement(ke,{header:"Price Override Report",db:t}),r.a.createElement(ta,{header:"Wastage",db:t}),r.a.createElement(we,{header:"Refund Report",db:t}),r.a.createElement(_e,{header:"Staff Hours",db:t}),r.a.createElement(Oe,{header:"Void Sales",db:t}),r.a.createElement(Ce,{header:"Expiry Dates",db:t})))}var ra=function(){var e=i();return document.body.style.zoom="1.0",r.a.createElement("div",{className:e.app},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement("meta",{name:"viewport",content:"width=600, initial-scale=1 maximum-scale=1"}),r.a.createElement(u.a,null,r.a.createElement(s.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(s.a,{path:"/reports",exact:!0,render:function(e){return r.a.createElement(na,e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ra,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.79af01aa.chunk.js.map