(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,a,t){},128:function(e,a,t){},166:function(e,a,t){e.exports=t(303)},171:function(e,a,t){},172:function(e,a,t){},173:function(e,a,t){},177:function(e,a,t){},181:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},206:function(e,a,t){},207:function(e,a,t){},208:function(e,a,t){},300:function(e,a,t){},301:function(e,a,t){},302:function(e,a,t){},303:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(171),t(172),t(173),t(174),t(342)),i=Object(o.a)((function(e){return{app:{flexGrow:1,backgroundColor:"#f8f8f8"}}})),u=t(52),s=t(12),m=t(6),d=(t(177),t(106)),f=t(359),b=t(345),E=t(346),p=t(356),g=t(306);function v(){return r.a.createElement("div",{className:"copyright"},r.a.createElement(g.a,{variant:"body2",color:"textSecondary"},"Copyright \xa9 ",r.a.createElement(u.b,{color:"inherit",to:"http://itdsoftware.com/"},"ITD Software")," ",(new Date).getFullYear(),"."))}var h=t(24),y=t.n(h),N=t(42),S=t(68),j=t.n(S);t(181);function O(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0];return{setLoading:a[1],Spinner:function(e){return r.a.createElement("div",{className:"Spinner"},e.children,t?r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"text"},r.a.createElement(j.a,null,"Loading..."))):null)}}}function C(e){var a=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1],c=O(),l=c.Spinner,o=c.setLoading;function i(e,a,t){return u.apply(this,arguments)}function u(){return(u=Object(N.a)(y.a.mark((function e(a,t,n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:t})},fetch("api/login",c).then((function(e){return e.json()})).then((function(e){r(e),o(!1),e[0]&&e[0].id&&(localStorage.setItem("id",e[0].id),n.history.push("/reports"))})).catch((function(e){console.log(e),setTimeout(1e3),i(a,t,n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{Spinner:l,data:t,login:i}}(),t=a.login,c=a.data,l=a.Spinner;function o(){var a=Object(n.useState)(""),l=Object(m.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(""),s=Object(m.a)(u,2),d=s[0],f=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t.bind(this,o,d,e)},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return i(e.target.value)}})),r.a.createElement("form",{onSubmit:t.bind(this,o,d,e)},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return f(e.target.value)}})),r.a.createElement(g.a,{className:"error"},c.toString()),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",className:"submit",onClick:t.bind(this,o,d,e)},"Submit"))}return r.a.createElement("div",{className:"Login"},r.a.createElement(l,null,r.a.createElement(d.a,{className:"papersurround"},r.a.createElement(f.a,{className:"avatar"},r.a.createElement("img",{className:"logo",src:"ITDlogo.jpg",alt:"logo"})),r.a.createElement(g.a,{className:"signin",component:"h1",variant:"h5"},"Sign in"),r.a.createElement(o,null),r.a.createElement("form",{className:"form",noValidate:!0},r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0}))),r.a.createElement(v,null))))}var k=t(149),x=t.n(k),D=(t(204),t(360)),w=t(148),B=t.n(w);function T(e,a){var t=r.a.useState(e[0]?e[0]:"empty"),c=Object(m.a)(t,2),l=c[0],o=c[1];function i(a){return r.a.createElement(r.a.Fragment,null,e.map((function(e,a){return r.a.createElement(D.a,{className:"item","aria-haspopup":!0,key:a,onMouseDown:function(){o(e)}},e)})))}return Object(n.useEffect)((function(){"empty"===l&&e[0]&&o(e[0])}),[e]),{selected:l,Select:function(e){var a=Object(n.useRef)(null);return r.a.createElement("div",{className:"Select",ref:a},r.a.createElement("div",{className:"head"},r.a.createElement("div",{className:"text"},r.a.createElement(g.a,null,l,r.a.createElement(B.a,null))),r.a.createElement("div",null,r.a.createElement(d.a,{className:"Items"},r.a.createElement(i,null)))))}}}function R(e,a){var t=Object(n.useState)([]),r=Object(m.a)(t,2),c=r[0],l=r[1],o=O(),i=o.Spinner,u=o.setLoading;function s(){return d.apply(this,arguments)}function d(){return(d=Object(N.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(!0);try{fetch("".concat(e),a).then((function(e){return e.json()})).then((function(e){l(null!=e?e:[])})).catch((function(e){console.log(e),console.log("Reattempting Connection..."),setTimeout((function(){}),1e3),s()}))}catch(n){l([]),console.error(n)}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s()}),[e]),Object(n.useEffect)((function(){u(!1)}),[c]),{data:c,setData:l,fetchData:s,Spinner:i}}t(205);function P(){var e=function(){var e=R("api/databases").data,a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],c=t[1],l=T(r),o=l.Select,i=l.selected;return Object(n.useEffect)((function(){c(function(e){return e.map((function(e){return e.schema_name}))}(e))}),[e]),{Select:o,selected:i}}(),a=e.Select,t=e.selected,c=Object(n.useState)("itdepos"),l=Object(m.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){"empty"!==t&&i(t)}),[t]),{db:o,NavBar:function(){return r.a.createElement("div",{className:"NavBar"},r.a.createElement(x.a,{position:"fixed"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{src:"ITDlogo.jpg",alt:"logo"}),r.a.createElement(j.a,{className:"text"},"Branch: "),r.a.createElement(a,null)),r.a.createElement("div",{className:"right"},r.a.createElement(u.b,{className:"link",to:"/"},r.a.createElement(j.a,null,"Logout")))))}}}var I=t(69),F=t(70),A=t(46),V=t(29);function z(e){return e&&e.length}function M(e,a){return z(e)?e.map((function(e){return e[a]})):[0]}function Q(e,a){return M(e,a).reduce((function(e,a){return e+a}))}function L(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];var r=JSON.parse(JSON.stringify(e));return z(r)?r.map((function(e){return t.map((function(a){return delete e[a]})),e})):[]}function W(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];return z(e)?e.map((function(e){var a={};return t.map((function(t){return Object.assign(a,Object(A.a)({},t,e[t]))})),a})):[]}function J(e,a){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var c=H(e,a),l=c.map((function(t){return _(e,a,t)})),o=function(e,t){return Object.keys(e).forEach((function(r){e[r]="number"!==typeof e[r]||r===a||n.includes(r)?e[r]:e[r]+t[r]})),e},i=(l=JSON.parse(JSON.stringify(l))).map((function(e){return e.reduce(o)}));return i}function H(e,a){var t=[];if(z(e)){var n=new Set;e.forEach((function(e){return n.add(e[a])})),n.forEach((function(e){return t.push(e)}))}return t}function _(e,a,t){return e.filter((function(e){return e[a]===t}))}var q=t(48),Y=(t(206),t(150)),G=t.n(Y);function K(){var e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}function $(e){var a=new Date(e);return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)}function U(){var e=Object(n.useState)({start:K(),end:K()}),a=Object(m.a)(e,2),t=a[0],c=a[1];function l(e){return r.a.createElement("div",{className:"datefield"},r.a.createElement("input",{type:"date",required:!0,defaultValue:e.defaultValue,onChange:e.handleChange}),r.a.createElement(G.a,{className:"icon"}))}return{startDate:t.start,endDate:t.end,Dates:function(e){return r.a.createElement("div",{className:"Dates"},r.a.createElement(l,{handleChange:function(e){return c(Object(q.a)(Object(q.a)({},t),{},{start:$(e.currentTarget.value),end:t.end}))},defaultValue:t.start}),r.a.createElement("div",null,"-"),r.a.createElement(l,{handleChange:function(e){return c(Object(q.a)(Object(q.a)({},t),{},{start:t.start,end:$(e.currentTarget.value)}))},defaultValue:t.end}))}}}t(207);var X=t(347);function Z(e){return r.a.createElement("div",{className:"HeaderBar"},r.a.createElement(X.a,null,e.children))}t(126);var ee=t(351),ae=t(352),te=t(350),ne=t(349),re=t(151),ce=t.n(re);function le(e){return e&&e.length}function oe(e){return z(e.data)?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"emptyMessage"},r.a.createElement(g.a,null,"Empty"))}var ie=t(348),ue=t(361);function se(e){var a=e.order,t=e.orderBy,n=e.onRequestSort,c=r.a.useState([]),l=Object(m.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(m.a)(u,2),d=s[0],f=s[1];return r.a.useEffect((function(){z(e.data)&&d!==e.data?(i(Object.keys(e.data[0]).map((function(a,t){return{id:t+1+"",numeric:"number"==typeof e.data[0][a],disablePadding:!1,label:a}}))),f(e.data)):i([])}),[e.data]),r.a.createElement(ie.a,null,r.a.createElement(ne.a,null,o.map((function(e){return r.a.createElement(te.a,{key:e.id,align:"left",padding:e.disablePadding?"none":"default",sortDirection:t===e.id&&a,onClick:(c=e.id,function(e){n(e,c)})},r.a.createElement(ue.a,{active:t===e.id,direction:t===e.id?a:"asc"},e.label));var c}))))}var me=Object(o.a)((function(e){return{head:{backgroundColor:"blue"}}}));function de(e){var a=me(),t=r.a.useState(!0),n=Object(m.a)(t,2),c=n[0],l=n[1],o=r.a.useState([]),i=Object(m.a)(o,2),u=i[0],s=i[1],d=r.a.useState("asc"),f=Object(m.a)(d,2),b=f[0],E=f[1],p=r.a.useState("calories"),g=Object(m.a)(p,2),v=g[0],h=g[1],y=r.a.useState(0),N=Object(m.a)(y,2),S=N[0],j=N[1],O=r.a.useState([]),C=Object(m.a)(O,2),k=C[0],x=C[1],D=r.a.useState(1),w=Object(m.a)(D,2),B=w[0],T=w[1];function R(){return c?r.a.createElement(ce.a,{onClick:function(){T(B+1)}}):r.a.createElement(r.a.Fragment,null)}return r.a.useEffect((function(){le(e.data)?(s(e.data),x(e.data.map((function(e){return Object.values(e).map((function(e,a){return"number"===typeof e&&(e=+Math.round(100*e)/100),r.a.createElement(te.a,{key:a,align:"left"},e)}))}))),l(!0)):(s([]),x([]),j(0),T(1))}),[e.data]),r.a.useEffect((function(){j(100*B),S>e.data.length&&l(!1),e.bufferCallback&&B>1&&e.bufferCallback()}),[B]),r.a.createElement("div",{className:"Table"},r.a.createElement(ee.a,{stickyHeader:!0,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(se,{className:a.head,order:b,orderBy:v,onRequestSort:function(a,t){var n="asc"===b;if(E(n?"desc":"asc"),h(t),e.sortCallback)e.sortCallback({by:a.currentTarget.textContent,order:n?"desc":"asc"});else{var c=a.currentTarget.firstChild.firstChild.data,l=u.sort(function(e,a){var t="asc"===a?-1:1;return function(a,n){return a[e]>n[e]?t:a[e]<n[e]?-t:0}}(c,b));x(l.map((function(e){return Object.values(e).map((function(e,a){return"number"===typeof e&&e%1!==0&&(e=e.toFixed(2)),r.a.createElement(te.a,{key:a,align:"left"},e)}))})))}},rowCount:k.length,data:u}),r.a.createElement(ae.a,{className:"tableBody"},k.map((function(e,a){return r.a.createElement(ne.a,{key:a,hover:!0,role:"checkbox",tabIndex:-1},k[a])})))),r.a.createElement(R,null),r.a.createElement(oe,{data:e.data}))}function fe(){var e=Object(I.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\ntext-align: left;\nbackground-color:#004064;\ncolor: white;\n\n.MuiTypography-body1 {\n    font-size: 1em;\n    margin-left: 5px;\n    margin-right: 5px;\n}\n\n"]);return fe=function(){return e},e}function be(){var e=Object(I.a)(["\n.MuiTypography-root{\ntext-align: left;\nfont-weight: bold;\ncolor: #004064;\nfont-size: 1.25em; \nmargin: 5px;\n}\n"]);return be=function(){return e},e}function Ee(e){var a=Object(n.useState)([]),t=Object(m.a)(a,2),c=t[0],l=t[1],o=U(),i=o.startDate,u=o.endDate,s=o.Dates,f=R("/api/salesByProduct/".concat(e.db,"/").concat(i,"/").concat(u)),b=f.data,E=f.Spinner,p=T(H(b,"Cashier")),v=p.selected,h=p.Select;function y(e,a){return function(e,a){return H(e,a).map((function(t){return _(e,a,t)}))}(function(e,a,t){return e.sort(function(e,a){var t="asc"===a?-1:1;return function(a,n){return a[e]>n[e]?t:a[e]<n[e]?-t:0}}(a,t))}(_(W(e,"Receipt","Product","Sales","Qty","Refund","Discount","TillDate","TillTime","Cashier"),"Cashier",a),"Receipt","desc"),"Receipt")}function N(){var e="00-00-00";return r.a.createElement(r.a.Fragment,null,c.map((function(a,t){return r.a.createElement("div",{key:t},(n=a[0].TillDate)===e?r.a.createElement(r.a.Fragment,null):(e=n,r.a.createElement(pe,null,r.a.createElement(g.a,null,n))),r.a.createElement(ge,null,r.a.createElement(g.a,null,"Receipt "+a[0].Receipt),r.a.createElement(g.a,null,a[0].TillTime)),r.a.createElement(de,{data:W(a,"Product","Qty","Sales")}));var n})))}return Object(n.useEffect)((function(){l(y(b,v))}),[b,v]),r.a.createElement("div",{className:"report"},r.a.createElement(E,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(s,null)),r.a.createElement("div",{className:"reportBody",id:"cashierHistory"},r.a.createElement(h,null),r.a.createElement(N,null)))))}var pe=F.a.div(be()),ge=F.a.div(fe());function ve(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=R("/api/expiry/".concat(e.db,"/").concat(t,"/").concat(n)),o=l.data,i=l.Spinner;return r.a.createElement("div",{className:"report"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(de,{data:o})))))}function he(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=R("/api/priceoverride/".concat(e.db,"/").concat(t,"/").concat(n)),o=l.data,i=l.Spinner;return r.a.createElement("div",{className:"PriceOverride"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(de,{data:o})))))}function ye(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=R("/api/refund/".concat(e.db,"/").concat(t,"/").concat(n)),o=l.data,i=l.Spinner;return r.a.createElement("div",{className:"report"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(de,{data:o})))))}t(208);var Ne=t(354),Se=t(355),je=(t(128),t(59));function Oe(e){if(z(e.chartData.datasets)){var a=e.chartData.datasets[0].backgroundColor,t=e.chartData.labels,n=a.map((function(e,n){return r.a.createElement("div",{key:n++,className:"legendItem"},r.a.createElement("span",{key:n++,className:"dot",style:{backgroundColor:e}}),r.a.createElement("label",{key:n++,className:"label"},t[a.indexOf(e)]))}));return r.a.createElement("div",{className:"Legend"},r.a.createElement("ul",null,n),r.a.createElement("div",{className:"cover-bar"}))}return r.a.createElement("div",null)}function Ce(e,a){return window.innerWidth>1024?e:a}function ke(e){if("number"===typeof e)return e;var a=Object(V.a)(e).map((function(e){return e.charCodeAt(0)}));return parseInt(a.join(""),10)}function xe(e){var a=["rgba(0,0,0, 0.6)","rgba(128,128,128, 0.6)","rgba(128,128,0, 0.6)","rgba(128,0,128, 0.6)","rgba(128,0,0, 0.6)","rgba(0,128,128, 0.6)","rgba(0,128,0, 0.6)","rgba(0,0,128, 0.6)","rgba(255,255,255, 0.6)","rgba(255,255,0, 0.6)","rgba(255,0,255, 0.6)","rgba(255,0,0, 0.6)","rgba(0,255,255, 0.6)","rgba(0,255,0, 0.6)","rgba(0,0,255, 0.6)","rgba(255,255,128, 0.6)","rgba(255,128,255, 0.6)","rgba(255,128,128, 0.6)","rgba(128,255,255, 0.6)","rgba(128,255,128, 0.6)","rgba(128,128,255, 0.6)","rgba(128,0,255, 0.6)","rgba(0,128,255, 0.6)","rgba(255,128,0, 0.6)","rgba(64,64,64, 0.6)","rgba(192,192,192, 0.6)","rgba(192,192,64, 0.6)","rgba(192,64,192, 0.6)","rgba(192,64,64, 0.6)","rgba(64,192,192, 0.6)","rgba(64,192,64, 0.6)","rgba(64,64,192, 0.6)","rgba(255,255,64, 0.6)","rgba(255,64,255, 0.6)","rgba(255,64,64, 0.6)","rgba(64,255,255, 0.6)","rgba(64,255,64, 0.6)","rgba(64,64,255, 0.6)","rgba(255,255,192, 0.6)","rgba(255,192,255, 0.6)","rgba(255,192,192, 0.6)","rgba(192,255,255, 0.6)","rgba(192,255,192, 0.6)","rgba(192,192,255, 0.6)","rgba(192,64,255, 0.6)","rgba(64,192,255, 0.6)","rgba(255,192,64, 0.6)","rgba(64,64,0, 0.6)","rgba(64,0,64, 0.6)","rgba(64,0,0, 0.6)","rgba(0,64,64, 0.6)","rgba(0,64,0, 0.6)","rgba(0,0,64, 0.6)","rgba(192,192,0, 0.6)","rgba(192,0,192, 0.6)","rgba(192,0,0, 0.6)","rgba(0,192,192, 0.6)","rgba(0,192,0, 0.6)","rgba(0,0,192, 0.6)","rgba(64,0,192, 0.6)","rgba(0,64,192, 0.6)","rgba(192,64,0, 0.6)","rgba(102,51,0, 0.6)","rgba(255,229,204, 0.6)","rgba(255,153,153, 0.6)"];return e.map((function(e){return a[a.length-e%a.length-1]}))}function De(e){var a=J(e.data,e.groupBy),t=M(a,e.values),n=M(a,e.groupBy),c=z(e.data)?n.map((function(e){return ke(e)})):[],l=function(e,a,t){return{labels:a,datasets:[{label:"Net Sales \xa3",data:e,backgroundColor:xe(t)}]}}(t,n,c),o=t.reduce((function(e,a){return e+a})),i=Ce(12,12);return z(l.datasets)?r.a.createElement("div",{className:"PieChart"},r.a.createElement("div",{className:"chart"},r.a.createElement(je.b,{height:1,width:1,data:l,options:{layout:{},labels:{display:!1},legend:{display:!1,position:"top",align:"center",labels:{usePointStyle:!0,fontSize:24},fullWidth:!0},tooltips:{bodyFontSize:i,mode:"index",callbacks:{label:function(e,a){var t=a.labels[e.index];return t},afterLabel:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index],n=a.datasets[e.datasetIndex].data[e.index]/o*100;return n=n.toFixed(2),Number.isInteger(t)?t+" ("+n+"%)":"\xa3 "+t.toFixed(2)+" ("+n+"%)"}},fontSize:24}}})),r.a.createElement(Oe,{chartData:l})):r.a.createElement("div",{className:"chart"},r.a.createElement(je.b,{data:l}))}function we(e){var a=0,t=e.chartData.datasets.map((function(e){return e.backgroundColor})),n=e.chartData.datasets.map((function(e){return e.label})),c=t.map((function(e){return r.a.createElement("div",{key:a++,className:"legendItem"},r.a.createElement("span",{key:a++,className:"dot",style:{backgroundColor:e}}),r.a.createElement("label",{key:a++,className:"label"},n[t.indexOf(e)]))}));return r.a.createElement("div",{className:"Legend"},r.a.createElement("ul",null,c),r.a.createElement("div",{className:"cover-bar"}))}function Be(e){var a=e.data,t=e.x,n=e.groupBy,c=e.values,l=function(e,a,t,n){var r=H(e,t),c=xe(r.map((function(e){return ke(e)}))),l=r.map((function(l,o){var i=c[o],u=a.map((function(a){var c=_(e,"TillHour",a),l=_(c,t,r[o]),i=M(l,n);return z(l)?i.reduce((function(e,a){return e+a})):0}));return{label:r[r.indexOf(l)],data:u,backgroundColor:i,datasetKeyProvider:o}}));return{labels:a,datasets:l}}(a,t,n,c),o=Q(a,c),i=Ce(12,12);return void 0!==l.datasets?r.a.createElement("div",{className:"BarChart"},r.a.createElement("div",{className:"chart"},r.a.createElement(je.a,{data:l,options:{scales:{xAxes:[{stacked:!0,ticks:{fontSize:i}}],yAxes:[{stacked:!0,ticks:{fontSize:i}}]},labels:{display:!1,fontSize:24},legend:{display:!1,position:"right",align:"center",labels:{usePointStyle:!0},fullWidth:!0},tooltips:{bodyFontSize:Ce(12,12),mode:"single",callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex],n=t.label;return t.data[e.index]>0?n:""},afterLabel:function(e,a){var t=a.datasets[e.datasetIndex],n=t.data[e.index],r=(t.data[e.index]/o*100).toFixed(2);return t.data[e.index]>0?Number.isInteger(n)?n+" ("+r+"%)":"\xa3 "+n.toFixed(2)+" ("+r+"%)":""}}}}})),r.a.createElement(we,{chartData:l})):r.a.createElement("div",{className:"chart"},r.a.createElement(je.a,{data:l}))}t(300);var Te=t(344),Re=t(353),Pe=t(357),Ie=t(358);function Fe(e){return r.a.createElement("div",{className:"RadioButtons"},r.a.createElement(Te.a,{component:"fieldset"},r.a.createElement(Ie.a,{color:"#004064","aria-label":"gender",name:"gender1",value:e.value,onChange:e.handleChange},r.a.createElement(Re.a,{color:"#004064",value:"Sales",control:r.a.createElement(Pe.a,null),label:"Sales"}),r.a.createElement(Re.a,{color:"#004064",value:"Profit",control:r.a.createElement(Pe.a,null),label:"Profit"}),r.a.createElement(Re.a,{color:"#004064",value:"Qty",control:r.a.createElement(Pe.a,null),label:"Quantity"}))))}function Ae(e){var a=U(),t=a.startDate,c=a.endDate,l=a.Dates,o=T(["Category","Product","PriceMark","Cashier","Receipt"]),i=o.Select,u=o.selected,s=R("/api/salesByProduct/".concat(e.db,"/").concat(t,"/").concat(c)),f=s.data,b=s.Spinner,E=Object(n.useState)("Category"),p=Object(m.a)(E,2),v=p[0],h=p[1],y=Object(n.useState)(0),N=Object(m.a)(y,2),S=N[0],j=N[1],O=Object(n.useState)("Sales"),C=Object(m.a)(O,2),k=C[0],x=C[1],D=Object(n.useState)([]),w=Object(m.a)(D,2),B=w[0],P=w[1],I=Object(n.useState)("pie"),F=Object(m.a)(I,2),A=F[0],V=F[1],z=function(e){var a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)("a"),o=Object(m.a)(l,2),i=o[0],u=o[1];function s(){"a"===i?(u("b"),t.callBack()):(u("a"),c.callBack())}return{IconSwitch:function(){return r.a.createElement("button",{className:"IconSwitch",onClick:s},"a"===i?t.icon:c.icon)}}}([{icon:r.a.createElement(Ne.a,null),callBack:V.bind(this,"bar")},{icon:r.a.createElement(Se.a,null),callBack:V.bind(this,"pie")}]).IconSwitch;function M(){return r.a.createElement("div",{className:"sales"},r.a.createElement(i,null),r.a.createElement(Fe,{handleChange:function(e){return x(e.target.value)},value:k}),r.a.createElement("h1",null,"Total: ","Qty"===k?S:"\xa3"+S.toFixed(2)))}function L(e){var a=Array.from(Array(24).keys()).map((function(e){return("0"+e+":00").slice(-5)}));return"pie"===e.chart?r.a.createElement(De,{data:f,groupBy:v,values:k}):r.a.createElement(Be,{data:f,x:a,groupBy:v,values:k})}return Object(n.useEffect)((function(){P(function(e,a){var t=J(e,a,"Id","CashierNum");switch(a){case"PriceMark":return W(t,"PriceMark","Sales","Cost","Discount","Refund","Profit","Qty");case"Cashier":return W(t,"Cashier","Sales","Cost","Discount","Refund","Profit","Qty");case"Product":return W(t,"Product","Id","Category","PriceMark","Sales","Cost","Discount","Refund","Profit","Qty");case"Category":return W(t,"Category","Sales","Cost","Discount","Refund","Profit","Qty");case"Receipt":return W(t,"Receipt","Cashier","TillDate","TillTime","Sales","Cost","Discount","DsctReason","Refund","Profit","Qty");default:return W(t,"Sales","Cost","Discount","Refund","Profit","Qty")}}(f,v)),j(Q(f,k))}),[v,k,f]),Object(n.useEffect)((function(){h(u)}),[u]),r.a.createElement("div",{className:"salesBreakdown"},r.a.createElement(b,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement("div",{className:"left"},r.a.createElement(g.a,{className:"text",variant:"h6"}," ",e.header),r.a.createElement(l,null)),r.a.createElement("div",{className:"right"},r.a.createElement(z,null))),r.a.createElement("div",{className:"reportBody"},r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(L,{chart:A})),r.a.createElement(de,{data:B})))))}function Ve(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=R("/api/staffhours/".concat(e.db,"/").concat(t,"/").concat(n)),o=l.data,i=l.Spinner;return r.a.createElement("div",{className:"report"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(de,{data:o})))))}function ze(e,a){var t=Object(n.useState)([]),r=Object(m.a)(t,2),c=r[0],l=r[1],o=Object(n.useState)(0),i=Object(m.a)(o,2),u=i[0],s=i[1],d=O(),f=d.Spinner,b=d.setLoading;function E(){return p.apply(this,arguments)}function p(){return(p=Object(N.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(!0),s(0),fetch("".concat(e,"/").concat(a,"/").concat(u)).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){console.error(e),setTimeout(1e3),E()}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=Object(N.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(!0),fetch("".concat(e,"/").concat(a,"/").concat(u)).then((function(e){return e.json()})).then((function(e){return l([].concat(Object(V.a)(c),Object(V.a)(e)))})).catch((function(e){console.log(e),setTimeout(1e3),g()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){g()}),[u]),Object(n.useEffect)((function(){E()}),[e]),Object(n.useEffect)((function(){b(!1)}),[c]),{data:c,getNextBuffer:function(){s(u+1)},Spinner:f}}function Me(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Je).db,o=ze("api/nonscan/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer,s=o.Spinner;return r.a.createElement(s,null,r.a.createElement(de,{data:i,bufferCallback:u,sortCallback:c}))}function Qe(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Je).db,o=ze("api/reorder/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer,s=o.Spinner;return r.a.createElement(s,null,r.a.createElement(de,{data:i,bufferCallback:u,sortCallback:c}))}function Le(){var e=Object(n.useState)({by:"id ",order:"desc"}),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Je).db,o=ze("api/stock/".concat(l,"/").concat(t.by,"/").concat(t.order),100),i=o.data,u=o.getNextBuffer,s=o.Spinner;return r.a.createElement(s,null,r.a.createElement(de,{data:i,bufferCallback:u,sortCallback:c}))}function We(){var e=Object(n.useState)({by:"id",order:"desc"}),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(Je).db,o=U(),i=o.startDate,u=o.endDate,s=o.Dates,d=ze("api/adjust/".concat(l,"/").concat(i,"/").concat(u,"/").concat(t.by,"/").concat(t.order),100),f=d.data,b=d.getNextBuffer,E=d.Spinner;return r.a.createElement(E,null,r.a.createElement(s,null),r.a.createElement(de,{data:f,bufferCallback:b,sortCallback:c}))}var Je=r.a.createContext({db:"itdepos"});function He(e){var a=T(["Stock","Reorder","Non Scan","Stock Adjust"]),t=a.selected,n=a.Select;function c(e){switch(t){case"Stock":return r.a.createElement(Le,null);case"Reorder":return r.a.createElement(Qe,null);case"Non Scan":return r.a.createElement(Me,null);case"Stock Adjust":return r.a.createElement(We,null);default:return r.a.createElement(Le,null)}}return r.a.createElement("div",{className:"StockReport"},r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(n,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(Je.Provider,{value:{db:e.db}},r.a.createElement(c,{selected:t,db:e.db})))))}var _e=t(156);t(301);function qe(){var e=Object(I.a)(["\n\ncolor: #004064;;\ntext-align:left;\nmargin-left: 1em;\nfont-size: 1em;\n\n"]);return qe=function(){return e},e}function Ye(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=(Object(_e.a)(a,["startDate","endDate","Dates"]),R("/api/VAT/".concat(e.db,"/").concat(t,"/").concat(n))),o=l.data,i=l.Spinner,u=W(o,"VatRate","Receipt_No","Total_Sales","Quantity","Total_VAT","Nett"),s=J(L(u,"Receipt_No"),"VatRate"),m=J(L(u,"VatRate"),"Receipt_No");return r.a.createElement("div",{className:"report"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(Ge,null,"Total VAT"),r.a.createElement("div",{className:"total"}," ",r.a.createElement(de,{data:s})),r.a.createElement(Ge,null,"VAT Receipts"),r.a.createElement(de,{data:m})))))}var Ge=F.a.h1(qe());function Ke(e){var a=U(),t=a.startDate,n=a.endDate,c=a.Dates,l=R("/api/wastage/".concat(e.db,"/").concat(t,"/").concat(n)),o=l.data,i=l.Spinner;return r.a.createElement("div",{className:"report"},r.a.createElement(i,null,r.a.createElement(d.a,{className:"reportContainer"},r.a.createElement(Z,null,r.a.createElement(g.a,{className:"text",variant:"h6"},e.header),r.a.createElement(c,null)),r.a.createElement("div",{className:"reportBody"},r.a.createElement(de,{data:o})))))}t(302);function $e(e){var a=P(),t=a.db,n=a.NavBar;return r.a.createElement("div",{className:"reportspage"},r.a.createElement(n,null),r.a.createElement("div",{className:"reports"},r.a.createElement(Ae,{header:"Sales Breakdown",db:t}),r.a.createElement(He,{id:"stock",header:"Stock",db:t}),r.a.createElement(Ee,{header:"Cashier History",db:t}),r.a.createElement(Ye,{header:"VAT",db:t}),r.a.createElement(he,{header:"Price Override Report",db:t}),r.a.createElement(Ke,{header:"Wastage",db:t}),r.a.createElement(ye,{header:"Refund Report",db:t}),r.a.createElement(Ve,{header:"Staff Hours",db:t}),r.a.createElement(ve,{header:"Expiry Dates",db:t})))}var Ue=function(){var e=i();return document.body.style.zoom="1.0",r.a.createElement("div",{className:e.app},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement("meta",{name:"viewport",content:"width=600, initial-scale=1 maximum-scale=1"}),r.a.createElement(u.a,null,r.a.createElement(s.a,{path:"/reports",exact:!0,render:function(e){if(localStorage.id)return r.a.createElement($e,e);e.history.replace("/")}}),r.a.createElement(s.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(C,e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[166,1,2]]]);
//# sourceMappingURL=main.409d85b3.chunk.js.map